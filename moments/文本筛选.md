[^tag]: linux



### 筛选文本

  

使用 awk 筛选文本并输出包含表头的内容

  

```shell

awk 'NR==1 || /pattern/ {print}' <(<command/text>)

```

  

以下是 grep 和 awk 的对比

  

```shell

[root@nixos:~]$ df -h | grep '/nix/.rw-store'

tmpfs           7.0G  303M  6.8G   5% /nix/.rw-store

  

[root@nixos:~]$ df -h | awk 'NR==1 || /\/nix\/\.rw-store/ {print}'

Filesystem      Size  Used Avail Use% Mounted on

tmpfs           7.0G  303M  6.8G   5% /nix/.rw-store

```